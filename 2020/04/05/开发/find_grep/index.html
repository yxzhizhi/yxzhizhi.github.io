<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		linux下的find文件查找命令与grep文件内容查找命令 | 
	 
	yxzhizhiの博客
	</title>
	
	<!-- keywords,description -->
	
		<meta name="keywords" content="linux,java,python,node,web" />
	 
		<meta name="description" content="生命不是要超越别人，而是要超越自己" />
	

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	


	<!-- search -->
	<script>
		var searchEngine = "https://www.google.com/search?q=";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "wujun234.github.io";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@v1.4.14/dist/Valine.min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="yxzhizhiの博客" type="application/atom+xml">
</head>

<body>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3efe99c287df5a1d6f0d02d187e403c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<header id="header">
    <a id="title" href="/" class="logo">yxzhizhiの博客</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">ABOUT</a>
		</li>
	

	

		<li class="menu-item">
			<a href="https://github.com/wujun234/uid-generator-spring-boot-starter" class="menu-item-link" target="_blank">
				UidGenerator
			</a>
		</li>
		<li class="menu-item">
			<a href="https://github.com/wujun234" class="menu-item-link" target="_blank">
				<i class="fa fa-github fa-2x"></i>
			</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="按回车全站搜索">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										备忘
									</a>
									
							<ul>
								<li class="file">
									<a href="/2020/04/05/%E5%A4%87%E5%BF%98/126%E9%82%AE%E7%AE%B1/">
										126邮箱
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/07/%E5%A4%87%E5%BF%98/Markdown-%E8%AF%AD%E6%B3%95%E6%89%8B%E5%86%8C-%EF%BC%88%E5%AE%8C%E6%95%B4%E6%95%B4%E7%90%86%E7%89%88%EF%BC%89/">
										Markdown-语法手册-（完整整理版）
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/01/01/%E5%A4%87%E5%BF%98/hexo/">
										hexo
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										工具
									</a>
									
							<ul>
								<li class="file">
									<a href="/2020/04/05/%E5%B7%A5%E5%85%B7/%E4%BD%BF%E7%94%A8%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3/">
										使用帮助文档
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/05/%E5%B7%A5%E5%85%B7/%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8Eclipse%20Che/">
										安装使用Eclipse Che
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										开发
									</a>
									
							<ul>
								<li class="file">
									<a href="/2020/04/05/%E5%BC%80%E5%8F%91/docker/">
										docker
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2020/04/05/%E5%BC%80%E5%8F%91/find_grep/">
										find_grep
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/05/01/%E5%BC%80%E5%8F%91/firefox-dev/">
										firefox-dev
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/09/%E5%BC%80%E5%8F%91/git%E5%B8%B8%E7%94%A8/">
										git常用
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/05/%E5%BC%80%E5%8F%91/sql%20and%20freemaker%20format/">
										sql and freemaker format
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/05/%E5%BC%80%E5%8F%91/%E5%B8%B8%E7%94%A8Linux%20%E5%91%BD%E4%BB%A4/">
										常用Linux 命令
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										环境
									</a>
									
							<ul>
								<li class="file">
									<a href="/2020/04/05/%E7%8E%AF%E5%A2%83/Docker%E6%90%AD%E5%BB%BAMySQL%E6%9C%8D%E5%8A%A1/">
										Docker搭建MySQL服务
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/09/%E7%8E%AF%E5%A2%83/conda-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/">
										conda-虚拟环境
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/06/%E7%8E%AF%E5%A2%83/java-deploy-to-docker/">
										java-deploy-to-docker
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/18/%E7%8E%AF%E5%A2%83/openstack-%E9%83%A8%E7%BD%B2%E6%96%B9%E5%BC%8F/">
										openstack-部署方式
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/18/%E7%8E%AF%E5%A2%83/ubuntu-%E5%88%A0%E9%99%A4%E8%BD%AF%E4%BB%B6/">
										ubuntu-删除软件
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/19/%E7%8E%AF%E5%A2%83/vritubox-ubuntu-init/">
										vritubox-ubuntu-init
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/19/%E7%8E%AF%E5%A2%83/windows10%20node%20%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/">
										windows10 node 环境安装
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/04/12/%E7%8E%AF%E5%A2%83/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/">
										学习计划
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										设计
									</a>
									
							<ul>
								<li class="file">
									<a href="/2020/01/01/%E8%AE%BE%E8%AE%A1/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9E%B6%E6%9E%84/">
										从0开始学架构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title">
	linux下的find文件查找命令与grep文件内容查找命令
</h1>
<div class="article-meta">
	
	<span>zhanghuo</span>
	<span>2020-04-05 00:00:00</span>
		<div id="article-categories">
    
		<span>Categories：</span>
            
                
                    <span>
                        <i class="fa fa-folder" aria-hidden="true">
                        <a href="/categories/linux/">linux</a>
                        </i>
                      
                        >
                      
                    </span>
                
            
                
                    <span>
                        <i class="fa fa-folder" aria-hidden="true">
                        <a href="/categories/linux/grep/">grep</a>
                        </i>
                      
                    </span>
                
            
    

    
		<span>Tags：</span>
            
                
                    <span>
                        <i class="fa fa-tag" aria-hidden="true">
                        <a href="/tags/linux/">linux</a>
                        </i>
                    </span>
                
            
                
                    <span>
                        <i class="fa fa-tag" aria-hidden="true">
                        <a href="/tags/grep/">grep</a>
                        </i>
                    </span>
                
            
                
                    <span>
                        <i class="fa fa-tag" aria-hidden="true">
                        <a href="/tags/find/">find</a>
                        </i>
                    </span>
                
            
    
		</div>

</div>

<div id="article-content">
	<h1 id="linux下的find文件查找命令与grep文件内容查找命令"><a href="#linux下的find文件查找命令与grep文件内容查找命令" class="headerlink" title="linux下的find文件查找命令与grep文件内容查找命令"></a>linux下的find文件查找命令与grep文件内容查找命令</h1><h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a><strong>区别</strong></h2><pre><code>
(1)find命令是根据**文件的属性**进行查找，如文件名，文件大小，所有者，所属组，是否为空，访问时间，修改时间等。
(2)grep是根据**文件的内容进行**查找，会对文件的每一行按照给定的模式(patter)进行匹配查找。</code></pre><span id="more"></span>
<h2 id="一-find命令"><a href="#一-find命令" class="headerlink" title="一.find命令"></a><strong>一.find命令</strong></h2><pre><code>**基本格式：**find path expression</code></pre><h3 id="1-按照文件名查找"><a href="#1-按照文件名查找" class="headerlink" title="1.按照文件名查找"></a><strong>1.按照文件名查找</strong></h3><pre><code>(1)find / -name httpd.conf　　#在根目录下查找文件httpd.conf，表示在整个硬盘查找
(2)find /etc -name httpd.conf　　#在/etc目录下文件httpd.conf
(3)find /etc -name &#39;*srm*&#39;　　#使用通配符*(0或者任意多个)。表示在/etc目录下查找文件名中含有字符串‘srm’的文件
(4)find . -name &#39;srm*&#39; 　　#表示当前目录下查找文件名开头是字符串‘srm’的文件</code></pre><h3 id="2-按照文件特征查找"><a href="#2-按照文件特征查找" class="headerlink" title="2.按照文件特征查找 　　　"></a><strong>2.按照文件特征查找</strong> 　　　</h3><pre><code>(1)find / -amin -10 　　# 查找在系统中最后10分钟访问的文件(access time)
(2)find / -atime -2　　 # 查找在系统中最后48小时访问的文件
(3)find / -empty 　　# 查找在系统中为空的文件或者文件夹
(4)find / -group cat 　　# 查找在系统中属于 group为cat的文件
(5)find / -mmin -5 　　# 查找在系统中最后5分钟里修改过的文件(modify time)
(6)find / -mtime -1 　　#查找在系统中最后24小时里修改过的文件
(7)find / -user fred 　　#查找在系统中属于fred这个用户的文件
(8)find / -size +10000c　　#查找出大于10000000字节的文件(c:字节，w:双字，k:KB，M:MB，G:GB)
(9)find / -size -1000k 　　#查找出小于1000KB的文件</code></pre><h3 id="3-使用混合查找方式查找文件"><a href="#3-使用混合查找方式查找文件" class="headerlink" title="3.使用混合查找方式查找文件"></a><strong>3.使用混合查找方式查找文件</strong></h3><pre><code>**参数有： ！，-and(-a)，-or(-o)。**
(1)find /tmp -size +10000c -and -mtime +2 　　#在/tmp目录下查找大于10000字节并在最后2分钟内修改的文件
(2)find / -user fred -or -user george 　　#在/目录下查找用户是fred或者george的文件文件
(3)find /tmp ! -user panda　　#在/tmp目录中查找所有不属于panda用户的文件</code></pre><h2 id="二、grep命令"><a href="#二、grep命令" class="headerlink" title="二、grep命令"></a><strong>二、grep命令</strong></h2><pre><code>***\*基本格式：\**find  expression**</code></pre><h3 id="1-主要参数"><a href="#1-主要参数" class="headerlink" title="1.主要参数"></a><strong>1.主要参数</strong></h3><pre><code>[options]主要参数：**
－c：只输出匹配行的计数。
－i：不区分大小写
－h：查询多文件时不显示文件名。
－l：查询多文件时只输出包含匹配字符的文件名。
－n：显示匹配行及行号。
－s：不显示不存在或无匹配文本的错误信息。
－v：显示不包含匹配文本的所有行。

**pattern正则表达式主要参数：**
\： 忽略正则表达式中特殊字符的原有含义。
^：匹配正则表达式的开始行。
$: 匹配正则表达式的结束行。
\&lt;：从匹配正则表达 式的行开始。
\&gt;：到匹配正则表达式的行结束。
[ ]：单个字符，如[A]即A符合要求 。
[ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。
.：所有的单个字符。
* ：有字符，长度可以为0。</code></pre><h3 id="2-实例"><a href="#2-实例" class="headerlink" title="2.实例　"></a><strong>2.实例</strong>　</h3><pre><code>(1)grep &#39;test&#39; d*　　#显示所有以d开头的文件中包含 test的行
(2)grep ‘test’ aa bb cc 　　 #显示在aa，bb，cc文件中包含test的行
(3)grep ‘[a-z]\&#123;5\&#125;’ aa 　　#显示所有包含每行字符串至少有5个连续小写字符的字符串的行
(4)grep magic /usr/src　　#显示/usr/src目录下的**文件(不含子目录)**包含magic的行
(5)grep -r magic /usr/src　　#显示/usr/src目录下的**文件(包含子目录)**包含magic的行
(6)grep -w pattern files  #只匹配整个单词，而不是字符串的一部分(如匹配’magic’，而不是’magical’)，
(7)grep -r &quot;查询内容&quot;  文件目录 #文件名+内容
(8)grep &#39;2020-02-27 17:5[6,9]&#39; xinyar-erp-auto.log ##根据时间查找日志
(9)grep -E &#39;2020-02-27 14:5[5-9]|2020-02-28 15:0[0-5]&#39; xinyar-erp-auto.log #查询指定时间段内的日志
(10)grep -C 10 &#39;aaaa&#39; nohup.out #查找关键字
(11)grep -r -l &quot;查询内容&quot;  文件目录 #只显示包含内容的文件名
(12)find 文件目录  -type f |xargs grep &quot;查询内容&quot;;  文件名+内容

(13)grep -l &quot;innercontent&quot; --include=&quot;*filepattern*&quot; ./* | xargs cp -t destdir # grep文件名，内容，然后复制到文件夹中
搜索源代码中的内容时, 为避免搜索到不相关的文件, 如.o文件中的内容, 可能希望grep能只处理特定格式的文件.
grep -rn --include=&#39;*.c&#39; --include=&#39;*.h&#39; re .
可以指定多次, 如果真是上面的这种情况,  其实可以用
grep -rn --include=&#39;*.[ch]&#39; re .
但是, 如果源文件中含有C++源代码, 上面的方法就不凑效了, 因为[]中只能放一个字符.
grep -rn --include=&#39;*.&#123;cpp,h&#125;&#39; 也是不行的.
此时需要不加引号的展开(由bash执行grep之前就已经完成, 可以通过set -x观察)
grep -rn --include=*.&#123;cpp,h&#125; re .
bash中对&#123;A,B&#125;这种形式的展开, 会忽略是否在当前目录下存在相应的文件。

示例：
grep -r &quot;version.app.xinyartech.com&quot;  /data/nginx/conf.d
grep -r -l &quot;version.app.xinyartech.com&quot;  /data/nginx/conf.d
find /data/nginx/conf.d  -type f |xargs grep &quot;version.app.xinyartech.com&quot;;

真实示例：
grep -r -l ea5dabc.*f76b .
grep -r -l 3367.*762 ./ | xargs cp -t ./rwglxt-`date +%y%m%d`
grep -r -l 3367.*762 ./ | xargs zip -q -r ./rwglxt-`date +%Y%m%d%H%M%S`.zip
--
cd ***/weblogic/*/domain/xxxdoamin
cd ./logs/
cd ./servers/
grep -r -l ea5dabc.*f76b ./ | xargs zip -q -r ./rwglxt-`date +%Y%m%d%H%M%S`.zip

find ./ -type f -name &quot;*.log&quot; | xargs grep &quot;ERROR&quot;

find ./ -type f -name &quot;*.log&quot; | grep -r -l ea5dabc.*f76b ./ | xargs zip -q -r ./rwglxt-`date +%Y%m%d%H%M%S`.zip


find ./Downloads/ -type f -name &quot;*.log&quot; | xargs grep -l 3367.*762

find ./ -type f -name &quot;*.log&quot; | xargs grep -l 3367.*762 | xargs zip -q -r ./rwglxt-`date +%Y%m%d%H%M%S`.zip

find ./ -type f -name &quot;*.log&quot; | xargs grep -l ea5dabc.*f76b | xargs zip -q -r ./rwglxt-`date +%Y%m%d%H%M%S`.zip
</code></pre><p>grep 命令系列：grep 中的正则表达式<br>作者： Vivek Gite 译者： LCTT runningwater</p>
<p>| 2016-01-27 11:30   评论: 4 收藏: 9    </p>
<p>在 Linux 、类 Unix 系统中我该如何使用 Grep 命令的正则表达式呢？</p>
<p>Linux 附带有 GNU grep 命令工具，它支持扩展正则表达式，而且 GNU grep 在所有的 Linux 系统中都是默认有的。Grep 命令被用于搜索定位存储在您服务器或工作站上的任何信息。</p>
<p>正则表达式</p>
<p>正则表达式就是用于匹配每行输入的一种模式，模式是指一串字符序列。下面是范例：</p>
<pre><code>^w1
w1|w2
[^ ]</code></pre><p>grep 正则表达式示例</p>
<p>在 /etc/passswd 目录中搜索 ‘vivek’</p>
<pre><code>grep vivek /etc/passwd</code></pre><p>输出例子:</p>
<pre><code>vivek:x:1000:1000:Vivek Gite,,,:/home/vivek:/bin/bash
vivekgite:x:1001:1001::/home/vivekgite:/bin/sh
gitevivek:x:1002:1002::/home/gitevivek:/bin/sh</code></pre><p>搜索大小写任意的 vivek(即不区分大小写的搜索)</p>
<pre><code>grep -i -w vivek /etc/passwd</code></pre><p>搜索大小写任意的 vivek 或 raj</p>
<pre><code>grep -E -i -w &#39;vivek|raj&#39; /etc/passwd</code></pre><p>上面最后的例子显示的，就是一个扩展的正则表达式的模式。<br>锚点</p>
<p>你可以分别使用 ^ 和 $ 符号来正则匹配输入行的开始或结尾。下面的例子搜索显示仅仅以 vivek 开始的输入行：</p>
<pre><code>grep ^vivek /etc/passwd</code></pre><p>输出例子:</p>
<pre><code>vivek:x:1000:1000:Vivek Gite,,,:/home/vivek:/bin/bash
vivekgite:x:1001:1001::/home/vivekgite:/bin/sh</code></pre><p>你可以仅仅只搜索出以单词 vivek 开始的行，即不显示 vivekgit、vivekg 等（LCTT 译注：即该单词后面是空格、符号等英文的单词分隔符。）</p>
<pre><code>grep -w ^vivek /etc/passwd</code></pre><p>找出以单词 word 结尾的行：</p>
<pre><code>grep &#39;foo$&#39; 文件名</code></pre><p>匹配仅仅只包含 foo 的行：</p>
<pre><code>grep &#39;^foo$&#39; 文件名</code></pre><p>如下所示的例子可以搜索空行：</p>
<pre><code>grep &#39;^$&#39; 文件名</code></pre><p>字符类</p>
<p>匹配 Vivek 或 vivek：</p>
<pre><code>grep &#39;[vV]ivek&#39; 文件名</code></pre><p>或者</p>
<pre><code>grep &#39;[vV][iI][Vv][Ee][kK]&#39; 文件名</code></pre><p>也可以匹配数字 (即匹配 vivek1 或 Vivek2 等等):</p>
<pre><code>grep -w &#39;[vV]ivek[0-9]&#39; 文件名</code></pre><p>可以匹配两个数字字符(即 foo11、foo12 等):</p>
<pre><code>grep &#39;foo[0-9][0-9]&#39; 文件名</code></pre><p>不仅仅局限于数字，也能匹配至少一个字母的:</p>
<pre><code>grep &#39;[A-Za-z]&#39; 文件名</code></pre><p>显示含有 “w” 或 “n” 字符的所有行：</p>
<pre><code>grep [wn] 文件名</code></pre><p>放在括号内的表达式，即包在 “[:” 和 “:]” 之间的字符类的名字，它表示的是属于此类的所有字符列表。标准的字符类名称如下：</p>
<pre><code>[:alnum:] - 字母数字字符
[:alpha:] - 字母字符
[:blank:] - 空字符: 空格键符 和 制表符
[:digit:] - 数字: &#39;0 1 2 3 4 5 6 7 8 9&#39;
[:lower:] - 小写字母: &#39;a b c d e f g h i j k l m n o p q r s t u v w x y z&#39;
[:space:] - 空格字符: 制表符、换行符、垂直制表符、换页符、回车符和空格键符
[:upper:] - 大写字母: &#39;A B C D E F G H I J K L M N O P Q R S T U V W X Y Z&#39;</code></pre><p>在这个例子所示的是匹配所有大写字母:</p>
<pre><code>grep &#39;[:upper:]&#39; 文件名</code></pre><p>通配符</p>
<p>你可以使用 “.” 来匹配单个字符。例子中匹配以 “b” 开头以 “t” 结尾的3个字符的单词：</p>
<pre><code>grep &#39;\&lt;b.t\&gt;&#39; 文件名</code></pre><p>在这儿,</p>
<pre><code>\&lt; 匹配单词前面的空字符串
\&gt; 匹配单词后面的空字符串</code></pre><p>打印出只有两个字符的所有行:</p>
<pre><code>grep &#39;^..$&#39; 文件名</code></pre><p>显示以一个点和一个数字开头的行：</p>
<pre><code>grep &#39;^\.[0-9]&#39; 文件名</code></pre><p>点字符转义</p>
<p>下面要匹配到 IP 地址为 192.168.1.254 的正则式是不正确的：（LCTT 译注：可以匹配到该 IP 地址，但是也有可能匹配到间隔符号不是点的类似格式）</p>
<pre><code>grep &#39;192.168.1.254&#39; /etc/hosts</code></pre><p>三个点字符都需要转义：</p>
<pre><code>grep &#39;192\.168\.1\.254&#39; /etc/hosts</code></pre><p>下面的例子只能匹配出 IP 地址：（LCTT 译注：实际上由于 IP 地址中数字的取值范围，该正则表达式并不精确）</p>
<pre><code>egrep &#39;[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;&#39; 文件名</code></pre><p>怎么样搜索以“-” 符号开头的匹配模式？</p>
<p>要使用 -e 选项来搜索匹配 ‘–test–’ 字符串，如果不使用 -e 选项，grep 命令会试图把 ‘–test–’ 当作自己的选项参数来解析：</p>
<pre><code>grep -e &#39;--test--&#39; 文件名</code></pre><p>怎么使用 grep 的“或”匹配?</p>
<p>使用如下的语法：</p>
<pre><code>grep -E &#39;word1|word2&#39; 文件名
或
egrep &#39;word1|word2&#39; 文件名</code></pre><p>或者是</p>
<pre><code>grep &#39;word1\|word2&#39; 文件名</code></pre><p>怎么使用 grep 的“和”匹配?</p>
<p>使用下面的语法来显示既包含 ‘word1’ 又包含 ‘word2’ 的所有行</p>
<pre><code>grep &#39;word1&#39; 文件名 | grep &#39;word2&#39;</code></pre><p>怎么样使用序列检测?</p>
<p>使用如下的语法，您可以检测一个字符在序列中重复出现次数：</p>
<pre><code>&#123;N&#125;
&#123;N,&#125;
&#123;min,max&#125;</code></pre><p>要匹配字符 “v” 出现两次：</p>
<pre><code>egrep &quot;v&#123;2&#125;&quot; 文件名</code></pre><p>下面的命令能匹配到 “col” 和 “cool” ：</p>
<pre><code>egrep &#39;co&#123;1,2&#125;l&#39; 文件名</code></pre><p>下面的命令将会匹配出至少有三个 ‘c’ 字符的所有行。</p>
<pre><code>egrep &#39;c&#123;3,&#125;&#39; 文件名</code></pre><p>下面的例子会匹配 91-1234567890（即二个数字-十个数字） 这种格式的手机号。</p>
<pre><code>grep &quot;[[:digit:]]\&#123;2\&#125;[ -]\?[[:digit:]]\&#123;10\&#125;&quot; 文件名</code></pre><p>怎么样使 grep 命令高亮显示？</p>
<p>使用如下的语法：</p>
<pre><code>grep --color 正则表达式 文件名</code></pre><p>怎么样仅仅只显示匹配出的字符，而不是匹配出的行？</p>
<p>使用如下语法：</p>
<pre><code>grep -o 正则表达式 文件名</code></pre><p>正则表达式限定符<br>限定符    描述<br>.     匹配任意的一个字符。<br>?     匹配前面的子表达式，最多一次。</p>
<ul>
<li>匹配前面的子表达式零次或多次。</li>
</ul>
<ul>
<li>匹配前面的子表达式一次或多次。<br>{N}     匹配前面的子表达式 N 次。<br>{N,}     匹配前面的子表达式 N 次到多次。<br>{N,M}     匹配前面的子表达式 N 到 M 次，至少 N 次至多 M 次。</li>
</ul>
<ul>
<li>只要不是在序列开始、结尾或者序列的结束点上，表示序列范围。<br>^     匹配一行开始的空字符串；也表示字符不在要匹配的列表中。<br>$     匹配一行末尾的空字符串。<br>\b     匹配一个单词前后的空字符串。<br>\B     匹配一个单词中间的空字符串。<br>&lt;     匹配单词前面的空字符串。<br>&gt;     匹配单词后面的空字符串。<br>grep 和 egrep</li>
</ul>
<p>egrep 等同于 grep -E 。它会以扩展的正则表达式的模式来解释模式。下面来自 grep 的帮助页：</p>
<pre><code>基本的正则表达式元字符 ?、+、 &#123;、 |、 ( 和 ) 已经失去了它们原来的意义，要使用的话用反斜线的版本 \?、\+、\&#123;、\|、\( 和 \) 来代替。 传统的 egrep 并不支持 &#123; 元字符，一些 egrep 的实现是以 \&#123; 替代的，所以一个可移植的脚本应该避免在 grep -E 使用 &#123; 符号，要匹配字面的 &#123; 应该使用 [&#125;]。

GNU grep -E 试图支持传统的用法，如果 &#123; 出在在无效的间隔规范字符串这前，它就会假定 &#123; 不是特殊字符。

例如，grep -E &#39;&#123;1&#39; 命令搜索包含 &#123;1 两个字符的串，而不会报出正则表达式语法错误。

POSIX.2 标准允许这种操作的扩展，但在可移植脚本文件里应该避免这样使用。</code></pre><p>参考:</p>
<pre><code>grep 和 regex 帮助手册页(7)
grep 的</code></pre><p>grep 命令系列：grep 中的正则表达式<br>作者： Vivek Gite 译者： LCTT runningwater</p>
<p>| 2016-01-27 11:30   评论: 4 收藏: 9    </p>
<p>在 Linux 、类 Unix 系统中我该如何使用 Grep 命令的正则表达式呢？</p>
<p>Linux 附带有 GNU grep 命令工具，它支持扩展正则表达式，而且 GNU grep 在所有的 Linux 系统中都是默认有的。Grep 命令被用于搜索定位存储在您服务器或工作站上的任何信息。</p>
<p>正则表达式</p>
<p>正则表达式就是用于匹配每行输入的一种模式，模式是指一串字符序列。下面是范例：</p>
<pre><code>^w1
w1|w2
[^ ]</code></pre><p>grep 正则表达式示例</p>
<p>在 /etc/passswd 目录中搜索 ‘vivek’</p>
<pre><code>grep vivek /etc/passwd</code></pre><p>输出例子:</p>
<pre><code>vivek:x:1000:1000:Vivek Gite,,,:/home/vivek:/bin/bash
vivekgite:x:1001:1001::/home/vivekgite:/bin/sh
gitevivek:x:1002:1002::/home/gitevivek:/bin/sh</code></pre><p>搜索大小写任意的 vivek(即不区分大小写的搜索)</p>
<pre><code>grep -i -w vivek /etc/passwd</code></pre><p>搜索大小写任意的 vivek 或 raj</p>
<pre><code>grep -E -i -w &#39;vivek|raj&#39; /etc/passwd</code></pre><p>上面最后的例子显示的，就是一个扩展的正则表达式的模式。<br>锚点</p>
<p>你可以分别使用 ^ 和 $ 符号来正则匹配输入行的开始或结尾。下面的例子搜索显示仅仅以 vivek 开始的输入行：</p>
<pre><code>grep ^vivek /etc/passwd</code></pre><p>输出例子:</p>
<pre><code>vivek:x:1000:1000:Vivek Gite,,,:/home/vivek:/bin/bash
vivekgite:x:1001:1001::/home/vivekgite:/bin/sh</code></pre><p>你可以仅仅只搜索出以单词 vivek 开始的行，即不显示 vivekgit、vivekg 等（LCTT 译注：即该单词后面是空格、符号等英文的单词分隔符。）</p>
<pre><code>grep -w ^vivek /etc/passwd</code></pre><p>找出以单词 word 结尾的行：</p>
<pre><code>grep &#39;foo$&#39; 文件名</code></pre><p>匹配仅仅只包含 foo 的行：</p>
<pre><code>grep &#39;^foo$&#39; 文件名</code></pre><p>如下所示的例子可以搜索空行：</p>
<pre><code>grep &#39;^$&#39; 文件名</code></pre><p>字符类</p>
<p>匹配 Vivek 或 vivek：</p>
<pre><code>grep &#39;[vV]ivek&#39; 文件名</code></pre><p>或者</p>
<pre><code>grep &#39;[vV][iI][Vv][Ee][kK]&#39; 文件名</code></pre><p>也可以匹配数字 (即匹配 vivek1 或 Vivek2 等等):</p>
<pre><code>grep -w &#39;[vV]ivek[0-9]&#39; 文件名</code></pre><p>可以匹配两个数字字符(即 foo11、foo12 等):</p>
<pre><code>grep &#39;foo[0-9][0-9]&#39; 文件名</code></pre><p>不仅仅局限于数字，也能匹配至少一个字母的:</p>
<pre><code>grep &#39;[A-Za-z]&#39; 文件名</code></pre><p>显示含有 “w” 或 “n” 字符的所有行：</p>
<pre><code>grep [wn] 文件名</code></pre><p>放在括号内的表达式，即包在 “[:” 和 “:]” 之间的字符类的名字，它表示的是属于此类的所有字符列表。标准的字符类名称如下：</p>
<pre><code>[:alnum:] - 字母数字字符
[:alpha:] - 字母字符
[:blank:] - 空字符: 空格键符 和 制表符
[:digit:] - 数字: &#39;0 1 2 3 4 5 6 7 8 9&#39;
[:lower:] - 小写字母: &#39;a b c d e f g h i j k l m n o p q r s t u v w x y z&#39;
[:space:] - 空格字符: 制表符、换行符、垂直制表符、换页符、回车符和空格键符
[:upper:] - 大写字母: &#39;A B C D E F G H I J K L M N O P Q R S T U V W X Y Z&#39;</code></pre><p>在这个例子所示的是匹配所有大写字母:</p>
<pre><code>grep &#39;[:upper:]&#39; 文件名</code></pre><p>通配符</p>
<p>你可以使用 “.” 来匹配单个字符。例子中匹配以 “b” 开头以 “t” 结尾的3个字符的单词：</p>
<pre><code>grep &#39;\&lt;b.t\&gt;&#39; 文件名</code></pre><p>在这儿,</p>
<pre><code>\&lt; 匹配单词前面的空字符串
\&gt; 匹配单词后面的空字符串</code></pre><p>打印出只有两个字符的所有行:</p>
<pre><code>grep &#39;^..$&#39; 文件名</code></pre><p>显示以一个点和一个数字开头的行：</p>
<pre><code>grep &#39;^\.[0-9]&#39; 文件名</code></pre><p>点字符转义</p>
<p>下面要匹配到 IP 地址为 192.168.1.254 的正则式是不正确的：（LCTT 译注：可以匹配到该 IP 地址，但是也有可能匹配到间隔符号不是点的类似格式）</p>
<pre><code>grep &#39;192.168.1.254&#39; /etc/hosts</code></pre><p>三个点字符都需要转义：</p>
<pre><code>grep &#39;192\.168\.1\.254&#39; /etc/hosts</code></pre><p>下面的例子只能匹配出 IP 地址：（LCTT 译注：实际上由于 IP 地址中数字的取值范围，该正则表达式并不精确）</p>
<pre><code>egrep &#39;[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;\.[[:digit:]]&#123;1,3&#125;&#39; 文件名</code></pre><p>怎么样搜索以“-” 符号开头的匹配模式？</p>
<p>要使用 -e 选项来搜索匹配 ‘–test–’ 字符串，如果不使用 -e 选项，grep 命令会试图把 ‘–test–’ 当作自己的选项参数来解析：</p>
<pre><code>grep -e &#39;--test--&#39; 文件名</code></pre><p>怎么使用 grep 的“或”匹配?</p>
<p>使用如下的语法：</p>
<pre><code>grep -E &#39;word1|word2&#39; 文件名
或
egrep &#39;word1|word2&#39; 文件名</code></pre><p>或者是</p>
<pre><code>grep &#39;word1\|word2&#39; 文件名</code></pre><p>怎么使用 grep 的“和”匹配?</p>
<p>使用下面的语法来显示既包含 ‘word1’ 又包含 ‘word2’ 的所有行</p>
<pre><code>grep &#39;word1&#39; 文件名 | grep &#39;word2&#39;</code></pre><p>怎么样使用序列检测?</p>
<p>使用如下的语法，您可以检测一个字符在序列中重复出现次数：</p>
<pre><code>&#123;N&#125;
&#123;N,&#125;
&#123;min,max&#125;</code></pre><p>要匹配字符 “v” 出现两次：</p>
<pre><code>egrep &quot;v&#123;2&#125;&quot; 文件名</code></pre><p>下面的命令能匹配到 “col” 和 “cool” ：</p>
<pre><code>egrep &#39;co&#123;1,2&#125;l&#39; 文件名</code></pre><p>下面的命令将会匹配出至少有三个 ‘c’ 字符的所有行。</p>
<pre><code>egrep &#39;c&#123;3,&#125;&#39; 文件名</code></pre><p>下面的例子会匹配 91-1234567890（即二个数字-十个数字） 这种格式的手机号。</p>
<pre><code>grep &quot;[[:digit:]]\&#123;2\&#125;[ -]\?[[:digit:]]\&#123;10\&#125;&quot; 文件名</code></pre><p>怎么样使 grep 命令高亮显示？</p>
<p>使用如下的语法：</p>
<pre><code>grep --color 正则表达式 文件名</code></pre><p>怎么样仅仅只显示匹配出的字符，而不是匹配出的行？</p>
<p>使用如下语法：</p>
<pre><code>grep -o 正则表达式 文件名</code></pre><p>正则表达式限定符<br>限定符    描述<br>.     匹配任意的一个字符。<br>?     匹配前面的子表达式，最多一次。</p>
<ul>
<li>匹配前面的子表达式零次或多次。</li>
</ul>
<ul>
<li>匹配前面的子表达式一次或多次。<br>{N}     匹配前面的子表达式 N 次。<br>{N,}     匹配前面的子表达式 N 次到多次。<br>{N,M}     匹配前面的子表达式 N 到 M 次，至少 N 次至多 M 次。</li>
</ul>
<ul>
<li>只要不是在序列开始、结尾或者序列的结束点上，表示序列范围。<br>^     匹配一行开始的空字符串；也表示字符不在要匹配的列表中。<br>$     匹配一行末尾的空字符串。<br>\b     匹配一个单词前后的空字符串。<br>\B     匹配一个单词中间的空字符串。<br>&lt;     匹配单词前面的空字符串。<br>&gt;     匹配单词后面的空字符串。<br>grep 和 egrep</li>
</ul>
<p>egrep 等同于 grep -E 。它会以扩展的正则表达式的模式来解释模式。下面来自 grep 的帮助页：</p>
<pre><code>基本的正则表达式元字符 ?、+、 &#123;、 |、 ( 和 ) 已经失去了它们原来的意义，要使用的话用反斜线的版本 \?、\+、\&#123;、\|、\( 和 \) 来代替。 传统的 egrep 并不支持 &#123; 元字符，一些 egrep 的实现是以 \&#123; 替代的，所以一个可移植的脚本应该避免在 grep -E 使用 &#123; 符号，要匹配字面的 &#123; 应该使用 [&#125;]。

GNU grep -E 试图支持传统的用法，如果 &#123; 出在在无效的间隔规范字符串这前，它就会假定 &#123; 不是特殊字符。

例如，grep -E &#39;&#123;1&#39; 命令搜索包含 &#123;1 两个字符的串，而不会报出正则表达式语法错误。

POSIX.2 标准允许这种操作的扩展，但在可移植脚本文件里应该避免这样使用。</code></pre><p>参考:</p>
<pre><code>grep 和 regex 帮助手册页(7)
grep 的 info 页</code></pre><p>via: <a target="_blank" rel="noopener" href="http://www.cyberciti.biz/faq/grep-regular-expressions/">http://www.cyberciti.biz/faq/grep-regular-expressions/</a> info 页</p>
<p>via: <a target="_blank" rel="noopener" href="http://www.cyberciti.biz/faq/grep-regular-expressions/">http://www.cyberciti.biz/faq/grep-regular-expressions/</a></p>

</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2020/04/05/%E5%BC%80%E5%8F%91/docker/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  docker
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2020/01/01/%E5%A4%87%E5%BF%98/hexo/">
                hexo
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>



	<div id="vcomments"></div>


<script>
	
		// 评论
		new Valine({
			el: '#vcomments',
			appId: '',
			appKey: '',
			placeholder: '请输入评论',
			path: window.location.pathname,
			avatar: 'retro',
			highlight: false,
      recordIP: true,
      enableQQ: true,
			requiredFields: ['nick','mail']
		})
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">zhanghuo</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			pv
			<span id="busuanzi_value_site_pv"></span>
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			uv
			<span id="busuanzi_value_site_uv"></span>
		</span>
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//github.com/wujun234" target="_blank">WuJun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>